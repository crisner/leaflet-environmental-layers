{"version":3,"sources":["../../src/util/layersBrowser.js"],"names":["L","Control","LayersBrowser","Layers","extend","options","collapsed","position","autoZIndex","hideSingleBase","overlays","initialize","baseLayers","Util","setOptions","_layerControlInputs","_layers","_lastZIndex","_handlingClick","i","_addLayer","category","j","layers","expand","DomUtil","addClass","_container","_section","style","height","acceptableHeight","_map","getSize","y","offsetTop","clientHeight","removeClass","_checkDisabledLayers","_initLayout","className","container","create","setAttribute","DomEvent","disableClickPropagation","disableScrollPropagation","section","img","src","alt","maxHeight","maxWidth","heading","innerHTML","lead","readMoreLink","href","or","shareLink","on","collapse","Browser","android","mouseenter","mouseleave","link","_layersLink","title","touch","stop","_baseLayersList","_separator","_overlaysList","overflowY","overflowX","appendChild","layer","name","overlay","group","_onLayerChange","push","setZIndex","_expandIfNotCollapsed","_update","empty","baseLayersPresent","overlaysPresent","obj","baseLayersCount","length","groupHolder","_createGroup","_createGroupHolder","_addItem","display","_createSeparator","separator","document","createElement","_createLayerInfoElements","data","_getLayerData","icon","width","backgroundColor","margin","reportBtn","lineHeight","color","report_url","classList","remove","addEventListener","layerDesc","layer_desc","fontSize","dataInfo","transform","dataType","type","add","dataInfoBtn","borderColor","infoIcon","infoModal","mapHasControl","control","info","text","disclaimer","classname","addTo","map","layerGroup","replace","groupName","fontWeight","chevron","elements","titleHolder","_hideOutOfBounds","labelContainer","label","checked","hasLayer","input","defaultChecked","_createRadioElement","stamp","layerId","_onInputClick","holder","marginBottom","marginLeft","self","layerName","_hideElements","removeLayer","removeFrmMap","currentBounds","getBounds","currentZoom","getZoom","bounds","zoom","extents","latLngBounds","minZoom","intersects","layerData","require","toLowerCase","layersBrowser"],"mappings":"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","sourcesContent":["L.Control.LayersBrowser = L.Control.Layers.extend({\r\n  options: {\r\n    collapsed: true,\r\n    position: 'topright',\r\n    autoZIndex: true,\r\n    hideSingleBase: true,\r\n    overlays: {}\r\n  },\r\n\r\n  initialize: function(baseLayers, overlays, options) {\r\n    this.options.overlays = overlays;\r\n    L.Util.setOptions(this, options);\r\n\r\n    this._layerControlInputs = [];\r\n    this._layers = [];\r\n    this._lastZIndex = 0;\r\n    this._handlingClick = false;\r\n\r\n    for (var i in baseLayers) {\r\n      this._addLayer(baseLayers[i], i);\r\n    }\r\n\r\n    for (i in overlays) {\r\n      if (overlays[i].category === 'group') {\r\n        for (var j in overlays[i].layers) {\r\n          this._addLayer(overlays[i].layers[j], j, true, i);\r\n        }\r\n      } else {\r\n        this._addLayer(overlays[i], i, true);\r\n      }\r\n    }\r\n  },\r\n\r\n  expand: function() {\r\n    L.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');\r\n    this._section.style.height = null;\r\n    var acceptableHeight = this._map.getSize().y - (this._container.offsetTop + 50);\r\n    if (acceptableHeight < this._section.clientHeight) {\r\n      L.DomUtil.addClass(this._section, 'leaflet-control-layers-scrollbar');\r\n      this._section.style.height = acceptableHeight + 'px';\r\n    } else {\r\n      L.DomUtil.removeClass(this._section, 'leaflet-control-layers-scrollbar');\r\n    }\r\n    this._checkDisabledLayers();\r\n    return this;\r\n  },\r\n\r\n  _initLayout: function() {\r\n    var className = 'leaflet-control-layers';\r\n    var container = this._container = L.DomUtil.create('div', className);\r\n    var collapsed = this.options.collapsed;\r\n\r\n    // makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released\r\n    container.setAttribute('aria-haspopup', true);\r\n\r\n    L.DomEvent.disableClickPropagation(container);\r\n    L.DomEvent.disableScrollPropagation(container);\r\n\r\n    var section = this._section = L.DomUtil.create('section', className + '-list' +\r\n    ' ' + className + '-menu');\r\n\r\n    var img = L.DomUtil.create('img', 'mx-auto d-block', section);\r\n    img.src = 'https://static.thenounproject.com/png/257237-200.png';\r\n    img.alt = 'industrial building icon by Parkjisun';\r\n    img.style.maxHeight = '75px';\r\n    img.style.maxWidth = '75px';\r\n\r\n    var heading = L.DomUtil.create('h3', 'text-center', section);\r\n    heading.innerHTML = 'Environmental data near here';\r\n\r\n    var lead = L.DomUtil.create('p', 'text-center', section);\r\n    lead.innerHTML = 'A range of groups publish environmental data near here. ';\r\n\r\n    var readMoreLink = L.DomUtil.create('a', '', lead);\r\n    readMoreLink.innerHTML = 'Read more';\r\n    readMoreLink.href = '#';\r\n\r\n    var or = L.DomUtil.create('span', '', lead);\r\n    or.innerHTML = ' or ';\r\n\r\n    var shareLink = L.DomUtil.create('a', '', lead);\r\n    shareLink.innerHTML = 'share your own map data.';\r\n    shareLink.href = '#';\r\n\r\n    if (collapsed) {\r\n      this._map.on('click', this.collapse, this);\r\n\r\n      if (!L.Browser.android) {\r\n        L.DomEvent.on(container, {\r\n          mouseenter: this.expand,\r\n          mouseleave: this.collapse,\r\n        }, this);\r\n      }\r\n    }\r\n\r\n    var link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);\r\n    link.href = '#';\r\n    link.title = 'Layers';\r\n\r\n    if (L.Browser.touch) {\r\n      L.DomEvent.on(link, 'click', L.DomEvent.stop);\r\n      L.DomEvent.on(link, 'click', this.expand, this);\r\n    } else {\r\n      L.DomEvent.on(link, 'focus', this.expand, this);\r\n    }\r\n\r\n    if (!collapsed) {\r\n      this.expand();\r\n    }\r\n\r\n    this._baseLayersList = L.DomUtil.create('div', className + '-base', section);\r\n    this._separator = L.DomUtil.create('div', className + '-separator', section);\r\n    this._overlaysList = L.DomUtil.create('div', className + '-overlays', section);\r\n    this._overlaysList.style.maxHeight = '35vh';\r\n    this._overlaysList.style.overflowY = 'scroll';\r\n    this._overlaysList.style.overflowX = 'hidden';\r\n\r\n    container.appendChild(section);\r\n  },\r\n\r\n  _addLayer: function(layer, name, overlay, group) {\r\n    if (this._map) {\r\n      layer.on('add remove', this._onLayerChange, this);\r\n    }\r\n\r\n    this._layers.push({\r\n      layer: layer,\r\n      name: name,\r\n      overlay: overlay,\r\n      group: group\r\n    });\r\n\r\n    if (this.options.autoZIndex && layer.setZIndex) {\r\n      this._lastZIndex++;\r\n      layer.setZIndex(this._lastZIndex);\r\n    }\r\n\r\n    this._expandIfNotCollapsed();\r\n  },\r\n\r\n  _update: function() {\r\n    if (!this._container) { return this; }\r\n\r\n    L.DomUtil.empty(this._baseLayersList);\r\n    L.DomUtil.empty(this._overlaysList);\r\n\r\n    this._layerControlInputs = [];\r\n    var baseLayersPresent; var overlaysPresent; var i; var obj; var baseLayersCount = 0;\r\n\r\n    var group;\r\n    \r\n    for (i = 0; i < this._layers.length; i++) {\r\n      var groupHolder;\r\n      obj = this._layers[i];\r\n      if(group !== obj.group) {\r\n        this._createGroup(obj);\r\n        groupHolder = this._createGroupHolder(obj);\r\n      };\r\n\r\n      if(obj.group) {\r\n        groupHolder.appendChild(this._addItem(obj));\r\n      } else {\r\n        this._addItem(obj);\r\n      }\r\n      \r\n      group = obj.group;\r\n      overlaysPresent = overlaysPresent || obj.overlay;\r\n      baseLayersPresent = baseLayersPresent || !obj.overlay;\r\n      baseLayersCount += !obj.overlay ? 1 : 0;\r\n    }\r\n\r\n    // Hide base layers section if there's only one layer.\r\n    if (this.options.hideSingleBase) {\r\n      baseLayersPresent = baseLayersPresent && baseLayersCount > 1;\r\n      this._baseLayersList.style.display = baseLayersPresent ? '' : 'none';\r\n    }\r\n\r\n    this._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\r\n\r\n    return this;\r\n  },\r\n\r\n  _createSeparator: function() {\r\n    var separator = document.createElement('div');\r\n    separator.className = 'leaflet-control-layers-separator';\r\n\r\n    return separator;\r\n  },\r\n\r\n  _createLayerInfoElements: function(obj) {\r\n    var data = this._getLayerData(obj);\r\n    \r\n    var icon = document.createElement('div');\r\n    icon.className = 'rounded-circle layer-icon';\r\n    icon.style.width = '10px';\r\n    icon.style.height = '10px';\r\n    icon.style.backgroundColor = data && data.icon || 'black';\r\n    icon.style.display = 'inline-block';\r\n    icon.style.margin = '0 1em';\r\n\r\n    var reportBtn = document.createElement('a');\r\n    reportBtn.setAttribute('role', 'button');\r\n    reportBtn.setAttribute('href', '#');\r\n    reportBtn.setAttribute('target', '_blank');\r\n    reportBtn.innerHTML = 'Add a report';\r\n    reportBtn.className = 'btn btn-default btn-outline-secondary btn-sm report-btn invisible';\r\n    reportBtn.style.margin = '0 1em';\r\n    reportBtn.style.lineHeight = '10px';\r\n    reportBtn.style.color = '#717171';\r\n\r\n    if(data && data.report_url) {\r\n      reportBtn.setAttribute('href', data.report_url);\r\n      reportBtn.classList.remove('invisible');\r\n    }\r\n\r\n    reportBtn.addEventListener('mouseover', function() {\r\n      reportBtn.style.color = 'white';\r\n    });\r\n\r\n    reportBtn.addEventListener('mouseout', function() {\r\n      reportBtn.style.color = '#717171';\r\n    });\r\n\r\n    var layerDesc = document.createElement('span');\r\n    layerDesc.innerHTML = data && data.layer_desc;\r\n    layerDesc.className = 'layer-description';\r\n    layerDesc.style.fontSize = '1.2em';\r\n\r\n    var dataInfo = document.createElement('div');\r\n    dataInfo.style.display = 'inline-block';\r\n    dataInfo.className = 'float-sm-right layer-data-info';\r\n\r\n    dataInfo.style.transform = 'translateY(6px)';\r\n\r\n    var dataType = document.createElement('span');\r\n    dataType.innerHTML = 'NRT/RT';\r\n    dataType.style.color = '#717171';\r\n\r\n    if(data && data.data.type !== 'NRT' && data.data.type !== 'RT') {\r\n      dataType.classList.add('invisible');\r\n    }\r\n\r\n    var dataInfoBtn = document.createElement('button');\r\n    dataInfoBtn.style.backgroundColor = 'transparent';\r\n    dataInfoBtn.style.borderColor = 'transparent';\r\n    var infoIcon = document.createElement('i');\r\n    infoIcon.className = 'fas fa-info-circle';\r\n    infoIcon.style.fontSize = '1.2em';\r\n    infoIcon.style.color = '#717171';\r\n\r\n    var infoModal;\r\n    dataInfoBtn.addEventListener('click', function() {\r\n      // Add only one instance of the modal for the map layer\r\n      if(!infoModal || !infoModal.options.mapHasControl) {\r\n        infoModal = new L.control.info({ \r\n          text: data && data.data.disclaimer,\r\n          classname: 'info-modal'\r\n        });\r\n\r\n        infoModal.addTo(map);\r\n      }\r\n    });\r\n\r\n    dataInfo.appendChild(dataType);\r\n    dataInfo.appendChild(dataInfoBtn);\r\n    dataInfoBtn.appendChild(infoIcon);\r\n\r\n    return {\r\n      icon: icon,\r\n      reportBtn: reportBtn,\r\n      layerDesc: layerDesc,\r\n      dataInfo: dataInfo,\r\n      dataType: dataType,\r\n      dataInfoBtn: dataInfoBtn,\r\n      infoIcon: infoIcon\r\n    }\r\n  },\r\n\r\n  _createGroup: function(obj) {\r\n    if(obj.group) {\r\n      var layerGroup = document.createElement('a');\r\n      layerGroup.href = '#' + obj.group.replace(/\\s/g, '');\r\n      layerGroup.setAttribute('data-toggle', 'collapse');\r\n      layerGroup.setAttribute('role', 'button');\r\n      layerGroup.setAttribute('aria-expanded', 'false');\r\n      layerGroup.setAttribute('aria-controls', obj.group)\r\n\r\n      var groupName = document.createElement('span');\r\n      groupName.innerHTML = obj.group;\r\n      groupName.className = 'layer-group-name';\r\n      groupName.style.margin = '0 1em';\r\n      groupName.style.fontSize = '1.2em';\r\n      groupName.style.fontWeight = 'bold';\r\n      groupName.style.display = 'inline-block';\r\n      groupName.style.width = '12em';\r\n\r\n      var chevron = document.createElement('i');\r\n      chevron.className = 'fa fa-chevron-down';\r\n      chevron.setAttribute('aria-hidden', 'true');\r\n      chevron.style.margin = '1em';\r\n      \r\n      layerGroup.addEventListener('click', function() {\r\n        if(chevron.className === 'fa fa-chevron-down') {\r\n          chevron.className = 'fa fa-chevron-up';\r\n        } else {\r\n          chevron.className = 'fa fa-chevron-down';\r\n        }\r\n      });\r\n\r\n      var elements = this._createLayerInfoElements(obj);\r\n\r\n      var titleHolder = document.createElement('div');\r\n      titleHolder.className = 'clearfix layer-info-container';\r\n      titleHolder.appendChild(layerGroup);\r\n      layerGroup.appendChild(chevron);\r\n      layerGroup.appendChild(elements.icon);\r\n      titleHolder.appendChild(elements.reportBtn);\r\n      titleHolder.appendChild(groupName);\r\n      titleHolder.appendChild(elements.layerDesc);\r\n      titleHolder.appendChild(elements.dataInfo);\r\n\r\n      var separator = this._createSeparator();\r\n\r\n      this._hideOutOfBounds(obj, [titleHolder, separator]);\r\n      \r\n      var container = obj.overlay ? this._overlaysList : this._baseLayersList;\r\n      container.appendChild(titleHolder);\r\n      container.appendChild(separator);\r\n      return titleHolder;\r\n    }\r\n  },\r\n\r\n  _createGroupHolder: function(obj) {\r\n    var groupName;\r\n    if(obj.group) {\r\n      groupName =  obj.group.replace(/\\s/g, '');\r\n    }\r\n    var groupHolder = document.createElement('div');\r\n    groupHolder.className = 'layers-sub-list collapse';\r\n    groupHolder.setAttribute('id', groupName);\r\n\r\n    var container = obj.overlay ? this._overlaysList : this._baseLayersList;\r\n    container.appendChild(groupHolder);\r\n    \r\n    return groupHolder;\r\n  },\r\n\r\n  _addItem: function(obj) {\r\n    var labelContainer = document.createElement('div');\r\n    var label = document.createElement('label');\r\n    label.style.display = 'inline-block';\r\n    var checked = this._map.hasLayer(obj.layer);\r\n    var input;\r\n\r\n    if (obj.overlay) {\r\n      input = document.createElement('input');\r\n      input.type = 'checkbox';\r\n      input.className = 'leaflet-control-layers-selector';\r\n      input.defaultChecked = checked;\r\n      input.style.margin = '0.5em 0.9em';\r\n    } else {\r\n      input = this._createRadioElement('leaflet-base-layers_' + L.Util.stamp(this), checked);\r\n    }\r\n\r\n    this._layerControlInputs.push(input);\r\n    input.layerId = L.Util.stamp(obj.layer);\r\n\r\n    L.DomEvent.on(input, 'click', this._onInputClick, this);\r\n\r\n    var name = document.createElement('span');\r\n    name.innerHTML = ' ' + obj.name;\r\n    name.style.fontWeight = 'bold';\r\n    name.style.display = 'inline-block';\r\n    \r\n    name.style.fontSize = '1.2em';\r\n\r\n    var elements = this._createLayerInfoElements(obj);\r\n    var separator = this._createSeparator();\r\n\r\n    // Helps from preventing layer control flicker when checkboxes are disabled\r\n    // https://github.com/Leaflet/Leaflet/issues/2771\r\n    var holder = document.createElement('div');\r\n\r\n    labelContainer.appendChild(label);\r\n    label.appendChild(holder);\r\n    holder.appendChild(input);\r\n    if(obj.overlay && !obj.group) {\r\n      holder.appendChild(elements.icon);\r\n      holder.appendChild(elements.reportBtn);\r\n      name.style.margin = '0 1em';\r\n      name.style.width = '12em';\r\n      name.className = 'layer-name';\r\n      label.className = 'label';\r\n    }\r\n    holder.appendChild(name);\r\n    if(obj.overlay && obj.group) {\r\n      label.style.width = '100%';\r\n      label.style.marginBottom = '3px';\r\n      input.style.marginLeft = '3.8em';\r\n      name.style.marginLeft = '9.6em';\r\n      name.style.color = '#717171';\r\n      name.className = 'layer-list-name';\r\n      labelContainer.appendChild(separator);\r\n    }\r\n    if(obj.overlay && !obj.group) {\r\n      labelContainer.appendChild(elements.layerDesc);\r\n      labelContainer.className = 'clearfix layer-info-container';\r\n      labelContainer.appendChild(elements.dataInfo);\r\n      labelContainer.appendChild(separator);\r\n    }\r\n\r\n    this._hideOutOfBounds(obj, [labelContainer, separator]);\r\n    \r\n    var container = obj.overlay ? this._overlaysList : this._baseLayersList;\r\n    container.appendChild(labelContainer);\r\n    this._checkDisabledLayers();\r\n    return labelContainer;\r\n  },\r\n\r\n  _hideOutOfBounds: function(obj, elements) {\r\n    var self = this;\r\n    var map = this._map;\r\n    var data = this._getLayerData(obj);\r\n    var layerName;\r\n    if(obj.name && !obj.group) {\r\n      layerName = this.options.overlays && this.options.overlays[obj.name];\r\n    } else {\r\n      layerName = this.options.overlays && this.options.overlays[obj.group].layers[obj.name];\r\n    }\r\n    this._hideElements(data, layerName, elements); // Filter layer list on initialization\r\n    map.on('moveend', function() { // Update layer list on map movement\r\n      self._hideElements(data, layerName, elements, true);\r\n    });\r\n  },\r\n\r\n  _hideElements: function(data, layerName, elements, removeLayer) {\r\n    var map = this._map;\r\n    var removeFrmMap = removeLayer;\r\n    var currentBounds = map.getBounds();\r\n    var currentZoom = map.getZoom();\r\n    var bounds;\r\n    var zoom;\r\n    if(data) {\r\n      bounds = data.extents && data.extents.bounds && L.latLngBounds(data.extents.bounds);\r\n      zoom =  data.extents && data.extents.minZoom && data.extents.minZoom;\r\n      for(var i in elements) {\r\n        if((bounds && !bounds.intersects(currentBounds) && map.hasLayer(layerName) && removeFrmMap) ||\r\n          ( zoom && (currentZoom < zoom) && map.hasLayer(layerName) && removeFrmMap)) {\r\n          elements[i].style.display = 'none';\r\n            // Remove layer from map if active\r\n            map.removeLayer(layerName);\r\n        } else if((bounds && !bounds.intersects(currentBounds)) || (zoom && (currentZoom < zoom))) {\r\n          elements[i].style.display = 'none';\r\n        } else {\r\n          elements[i].style.display = 'block';\r\n        }\r\n      };\r\n    };\r\n  },\r\n\r\n  _getLayerData: function(obj) {\r\n    var layerData = require('../layerData.json');\r\n    var data;\r\n    for (let j in layerData) {\r\n      if((obj.group && obj.group.replace(/\\s/g, '').toLowerCase() === j.toLowerCase()) ||\r\n        (obj.name.replace(/\\s/g, '').toLowerCase() === j.toLowerCase())) {\r\n          data = layerData[j];\r\n      };\r\n    };\r\n    return data;\r\n  }\r\n});\r\n\r\nL.control.layersBrowser = function(baseLayers, overlays, options) {\r\n  return new L.Control.LayersBrowser(baseLayers, overlays, options);\r\n};\r\n"],"file":"layersBrowser_babel.js"}